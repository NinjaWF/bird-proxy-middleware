/**
 * @file   rule-matched
 * @author yucong02
 */

/**
 *
 * @param rule:
 *          function: value => matched: Boolean
 *          RegExp
 *          []:
 *              RegExp
 * @param value
 * @return matched: Boolean
 */
function ruleMatched(rule, value) {
    if (typeof rule === 'function') {
        return !!rule(value);
    }
    if (rule instanceof RegExp) {
        return !!rule.match(value);
    }
    if (Array.isArray(rule)) {
        rule = rule.filter(function (rule) {
            return rule instanceof RegExp;
        });

        return rule.some(function matcher(reg) {
            return !!reg.match(value);
        });
    }
    return false;
}

module.exports = ruleMatched;